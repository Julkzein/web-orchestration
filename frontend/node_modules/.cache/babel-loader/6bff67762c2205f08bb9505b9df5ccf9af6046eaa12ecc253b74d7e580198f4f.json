{"ast":null,"code":"var _jsxFileName = \"/Users/jules/Desktop/orchestration-graph-web/frontend/src/components/GraphCanvas.tsx\",\n  _s = $RefreshSig$();\n// frontend/src/components/GraphCanvas.tsx\n// frontend/src/components/GraphCanvas.tsx - Update imports (remove Edge from line 12)\nimport React, { useCallback, useState, useRef, useEffect } from 'react';\nimport ReactFlow, { ReactFlowProvider, addEdge, useNodesState, useEdgesState, Controls, Background, MiniMap, MarkerType } from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport { useDrop } from 'react-dnd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GraphCanvasInner = ({\n  onTimeUpdate,\n  onGraphUpdate,\n  recommendedActivity\n}) => {\n  _s();\n  const reactFlowWrapper = useRef(null);\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const [reactFlowInstance, setReactFlowInstance] = useState(null);\n  const [nextNodeId, setNextNodeId] = useState(1);\n  const [gaps, setGaps] = useState([]);\n\n  // Calculate total time and notify parent when nodes change\n  useEffect(() => {\n    if (onTimeUpdate) {\n      const totalTime = nodes.reduce((sum, node) => {\n        const nodeData = node.data;\n        const duration = (nodeData === null || nodeData === void 0 ? void 0 : nodeData.duration) || 0;\n        return sum + duration;\n      }, 0);\n      onTimeUpdate(totalTime);\n    }\n    if (onGraphUpdate) {\n      onGraphUpdate(nodes);\n    }\n  }, [nodes, onTimeUpdate, onGraphUpdate]);\n\n  // Auto-add recommended activity if provided\n  useEffect(() => {\n    if (recommendedActivity && reactFlowInstance) {\n      // Find the best position (after the last node or at a gap)\n      const lastNode = nodes[nodes.length - 1];\n      const position = lastNode ? {\n        x: lastNode.position.x + 250,\n        y: lastNode.position.y\n      } : {\n        x: 100,\n        y: 100\n      };\n      addNode(recommendedActivity, position, true);\n    }\n  }, [recommendedActivity]);\n  const onConnect = useCallback(params => {\n    const newEdge = {\n      ...params,\n      type: 'smoothstep',\n      markerEnd: {\n        type: MarkerType.ArrowClosed\n      },\n      style: {\n        stroke: '#667eea',\n        strokeWidth: 2\n      }\n    };\n    setEdges(eds => addEdge(newEdge, eds));\n  }, [setEdges]);\n  const onInit = useCallback(instance => {\n    console.log('ReactFlow initialized');\n    setReactFlowInstance(instance);\n  }, []);\n  const addNode = useCallback((activity, position, isRecommended = false) => {\n    const newNode = {\n      id: `node-${nextNodeId}`,\n      type: 'default',\n      position: position,\n      data: {\n        label: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: activity.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '10px',\n              marginTop: '4px'\n            },\n            children: [activity.duration, \" min\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), isRecommended && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '9px',\n              marginTop: '2px',\n              fontStyle: 'italic'\n            },\n            children: \"(Recommended)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this),\n        duration: activity.duration,\n        activityId: activity.id,\n        isRecommended: isRecommended\n      },\n      style: {\n        background: isRecommended ? '#10b981' : activity.color || '#4CAF50',\n        color: 'white',\n        border: isRecommended ? '2px solid #059669' : '1px solid #222',\n        width: 180,\n        borderRadius: '5px',\n        boxShadow: isRecommended ? '0 4px 6px rgba(0, 0, 0, 0.1)' : 'none'\n      }\n    };\n    console.log('Adding node:', newNode);\n    setNodes(nds => {\n      // If adding recommended, try to maintain logical flow\n      if (isRecommended && nds.length > 0) {\n        // Auto-connect to previous node\n        const lastNode = nds[nds.length - 1];\n        const autoEdge = {\n          id: `e${lastNode.id}-${newNode.id}`,\n          source: lastNode.id,\n          target: newNode.id,\n          type: 'smoothstep',\n          markerEnd: {\n            type: MarkerType.ArrowClosed\n          },\n          style: {\n            stroke: '#10b981',\n            strokeWidth: 2\n          }\n        };\n        setEdges(eds => [...eds, autoEdge]);\n      }\n      return [...nds, newNode];\n    });\n    setNextNodeId(nextNodeId + 1);\n  }, [nextNodeId, setNodes, setEdges]);\n  const [{\n    isOver,\n    canDrop\n  }, drop] = useDrop(() => ({\n    accept: 'activity',\n    drop: (item, monitor) => {\n      console.log('Item dropped:', item);\n      const offset = monitor.getClientOffset();\n      if (offset && reactFlowWrapper.current) {\n        const bounds = reactFlowWrapper.current.getBoundingClientRect();\n        let position = {\n          x: offset.x - bounds.left,\n          y: offset.y - bounds.top\n        };\n        if (reactFlowInstance) {\n          position = reactFlowInstance.project(position);\n        }\n        addNode(item, position);\n      }\n      return {\n        dropped: true\n      };\n    },\n    collect: monitor => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop()\n    })\n  }), [reactFlowInstance, addNode]);\n  const setRefs = useCallback(node => {\n    reactFlowWrapper.current = node;\n    drop(node);\n  }, [drop]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"graph-canvas\",\n    style: {\n      flex: 1,\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Orchestration Graph\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), gaps.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '14px',\n          color: '#ef4444'\n        },\n        children: [gaps.length, \" gap\", gaps.length > 1 ? 's' : '', \" to fill\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: setRefs,\n      style: {\n        flex: 1,\n        border: `2px ${isOver ? 'dashed' : 'solid'} ${canDrop ? '#4CAF50' : '#ccc'}`,\n        backgroundColor: isOver ? '#f0fff4' : '#fff',\n        transition: 'all 0.2s',\n        borderRadius: '8px',\n        position: 'relative'\n      },\n      children: [nodes.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          color: '#9ca3af',\n          fontSize: '14px',\n          pointerEvents: 'none',\n          zIndex: 1,\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Drag activities here to build your orchestration graph\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '10px'\n          },\n          children: \"or use \\\"\\uD83C\\uDFAF Recommend\\\" to auto-build\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ReactFlow, {\n        nodes: nodes,\n        edges: edges,\n        onNodesChange: onNodesChange,\n        onEdgesChange: onEdgesChange,\n        onConnect: onConnect,\n        onInit: onInit,\n        fitView: true,\n        attributionPosition: \"bottom-left\",\n        children: [/*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MiniMap, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n};\n_s(GraphCanvasInner, \"W9SzNqfWjJpW8607S3DyQHUpQdc=\", false, function () {\n  return [useNodesState, useEdgesState, useDrop];\n});\n_c = GraphCanvasInner;\nconst GraphCanvas = props => {\n  return /*#__PURE__*/_jsxDEV(ReactFlowProvider, {\n    children: /*#__PURE__*/_jsxDEV(GraphCanvasInner, {\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 5\n  }, this);\n};\n_c2 = GraphCanvas;\nexport default GraphCanvas;\nvar _c, _c2;\n$RefreshReg$(_c, \"GraphCanvasInner\");\n$RefreshReg$(_c2, \"GraphCanvas\");","map":{"version":3,"names":["React","useCallback","useState","useRef","useEffect","ReactFlow","ReactFlowProvider","addEdge","useNodesState","useEdgesState","Controls","Background","MiniMap","MarkerType","useDrop","jsxDEV","_jsxDEV","GraphCanvasInner","onTimeUpdate","onGraphUpdate","recommendedActivity","_s","reactFlowWrapper","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","reactFlowInstance","setReactFlowInstance","nextNodeId","setNextNodeId","gaps","setGaps","totalTime","reduce","sum","node","nodeData","data","duration","lastNode","length","position","x","y","addNode","onConnect","params","newEdge","type","markerEnd","ArrowClosed","style","stroke","strokeWidth","eds","onInit","instance","console","log","activity","isRecommended","newNode","id","label","children","name","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","marginTop","fontStyle","activityId","background","color","border","width","borderRadius","boxShadow","nds","autoEdge","source","target","isOver","canDrop","drop","accept","item","monitor","offset","getClientOffset","current","bounds","getBoundingClientRect","left","top","project","dropped","collect","setRefs","className","flex","display","flexDirection","justifyContent","alignItems","ref","backgroundColor","transition","transform","pointerEvents","zIndex","textAlign","fitView","attributionPosition","_c","GraphCanvas","props","_c2","$RefreshReg$"],"sources":["/Users/jules/Desktop/orchestration-graph-web/frontend/src/components/GraphCanvas.tsx"],"sourcesContent":["// frontend/src/components/GraphCanvas.tsx\n// frontend/src/components/GraphCanvas.tsx - Update imports (remove Edge from line 12)\nimport React, { useCallback, useState, useRef, useEffect } from 'react';\nimport ReactFlow, {\n  ReactFlowProvider,\n  addEdge,\n  useNodesState,\n  useEdgesState,\n  Controls,\n  Background,\n  MiniMap,\n  Node,\n  Connection,\n  ReactFlowInstance,\n  MarkerType,\n} from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport { useDrop } from 'react-dnd';\nimport { Activity } from '../types';\n\ninterface GraphCanvasProps {\n  onTimeUpdate?: (time: number) => void;\n  onGraphUpdate?: (nodes: Node[]) => void;\n  recommendedActivity?: Activity | null;\n}\n\ninterface NodeData {\n  label: React.ReactNode;\n  duration?: number;\n  activityId?: string;\n  isRecommended?: boolean;\n}\n\nconst GraphCanvasInner: React.FC<GraphCanvasProps> = ({ \n  onTimeUpdate, \n  onGraphUpdate,\n  recommendedActivity \n}) => {\n  const reactFlowWrapper = useRef<HTMLDivElement>(null);\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const [reactFlowInstance, setReactFlowInstance] = useState<ReactFlowInstance | null>(null);\n  const [nextNodeId, setNextNodeId] = useState(1);\n  const [gaps, setGaps] = useState<any[]>([]);\n\n  // Calculate total time and notify parent when nodes change\n  useEffect(() => {\n    if (onTimeUpdate) {\n      const totalTime = nodes.reduce((sum, node) => {\n        const nodeData = node.data as NodeData;\n        const duration = nodeData?.duration || 0;\n        return sum + duration;\n      }, 0);\n      onTimeUpdate(totalTime);\n    }\n    \n    if (onGraphUpdate) {\n      onGraphUpdate(nodes);\n    }\n  }, [nodes, onTimeUpdate, onGraphUpdate]);\n\n  // Auto-add recommended activity if provided\n  useEffect(() => {\n    if (recommendedActivity && reactFlowInstance) {\n      // Find the best position (after the last node or at a gap)\n      const lastNode = nodes[nodes.length - 1];\n      const position = lastNode \n        ? { x: lastNode.position.x + 250, y: lastNode.position.y }\n        : { x: 100, y: 100 };\n      \n      addNode(recommendedActivity, position, true);\n    }\n  }, [recommendedActivity]);\n\n  const onConnect = useCallback(\n    (params: Connection) => {\n      const newEdge = {\n        ...params,\n        type: 'smoothstep',\n        markerEnd: {\n          type: MarkerType.ArrowClosed,\n        },\n        style: { stroke: '#667eea', strokeWidth: 2 },\n      };\n      setEdges((eds) => addEdge(newEdge, eds));\n    },\n    [setEdges]\n  );\n\n  const onInit = useCallback((instance: ReactFlowInstance) => {\n    console.log('ReactFlow initialized');\n    setReactFlowInstance(instance);\n  }, []);\n\n  const addNode = useCallback((\n    activity: Activity, \n    position: { x: number; y: number },\n    isRecommended: boolean = false\n  ) => {\n    const newNode: Node = {\n      id: `node-${nextNodeId}`,\n      type: 'default',\n      position: position,\n      data: { \n        label: (\n          <div>\n            <strong>{activity.name}</strong>\n            <div style={{ fontSize: '10px', marginTop: '4px' }}>\n              {activity.duration} min\n            </div>\n            {isRecommended && (\n              <div style={{ fontSize: '9px', marginTop: '2px', fontStyle: 'italic' }}>\n                (Recommended)\n              </div>\n            )}\n          </div>\n        ),\n        duration: activity.duration,\n        activityId: activity.id,\n        isRecommended: isRecommended,\n      } as NodeData,\n      style: {\n        background: isRecommended ? '#10b981' : (activity.color || '#4CAF50'),\n        color: 'white',\n        border: isRecommended ? '2px solid #059669' : '1px solid #222',\n        width: 180,\n        borderRadius: '5px',\n        boxShadow: isRecommended ? '0 4px 6px rgba(0, 0, 0, 0.1)' : 'none',\n      },\n    };\n\n    console.log('Adding node:', newNode);\n    setNodes((nds) => {\n      // If adding recommended, try to maintain logical flow\n      if (isRecommended && nds.length > 0) {\n        // Auto-connect to previous node\n        const lastNode = nds[nds.length - 1];\n        const autoEdge: Edge = {\n          id: `e${lastNode.id}-${newNode.id}`,\n          source: lastNode.id,\n          target: newNode.id,\n          type: 'smoothstep',\n          markerEnd: {\n            type: MarkerType.ArrowClosed,\n          },\n          style: { stroke: '#10b981', strokeWidth: 2 },\n        };\n        setEdges((eds) => [...eds, autoEdge]);\n      }\n      return [...nds, newNode];\n    });\n    setNextNodeId(nextNodeId + 1);\n  }, [nextNodeId, setNodes, setEdges]);\n\n  const [{ isOver, canDrop }, drop] = useDrop(() => ({\n    accept: 'activity',\n    drop: (item: Activity, monitor) => {\n      console.log('Item dropped:', item);\n      const offset = monitor.getClientOffset();\n      \n      if (offset && reactFlowWrapper.current) {\n        const bounds = reactFlowWrapper.current.getBoundingClientRect();\n        let position = {\n          x: offset.x - bounds.left,\n          y: offset.y - bounds.top,\n        };\n        \n        if (reactFlowInstance) {\n          position = reactFlowInstance.project(position);\n        }\n        \n        addNode(item, position);\n      }\n      \n      return { dropped: true };\n    },\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop(),\n    }),\n  }), [reactFlowInstance, addNode]);\n\n  const setRefs = useCallback(\n    (node: HTMLDivElement | null) => {\n      reactFlowWrapper.current = node;\n      drop(node);\n    },\n    [drop]\n  );\n\n  return (\n    <div className=\"graph-canvas\" style={{ flex: 1, display: 'flex', flexDirection: 'column' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n        <h2>Orchestration Graph</h2>\n        {gaps.length > 0 && (\n          <div style={{ fontSize: '14px', color: '#ef4444' }}>\n            {gaps.length} gap{gaps.length > 1 ? 's' : ''} to fill\n          </div>\n        )}\n      </div>\n      <div \n        ref={setRefs}\n        style={{ \n          flex: 1,\n          border: `2px ${isOver ? 'dashed' : 'solid'} ${canDrop ? '#4CAF50' : '#ccc'}`,\n          backgroundColor: isOver ? '#f0fff4' : '#fff',\n          transition: 'all 0.2s',\n          borderRadius: '8px',\n          position: 'relative',\n        }}\n      >\n        {nodes.length === 0 && (\n          <div style={{\n            position: 'absolute',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            color: '#9ca3af',\n            fontSize: '14px',\n            pointerEvents: 'none',\n            zIndex: 1,\n            textAlign: 'center',\n          }}>\n            <div>Drag activities here to build your orchestration graph</div>\n            <div style={{ marginTop: '10px' }}>or use \"🎯 Recommend\" to auto-build</div>\n          </div>\n        )}\n        <ReactFlow\n          nodes={nodes}\n          edges={edges}\n          onNodesChange={onNodesChange}\n          onEdgesChange={onEdgesChange}\n          onConnect={onConnect}\n          onInit={onInit}\n          fitView\n          attributionPosition=\"bottom-left\"\n        >\n          <Background />\n          <Controls />\n          <MiniMap />\n        </ReactFlow>\n      </div>\n    </div>\n  );\n};\n\nconst GraphCanvas: React.FC<GraphCanvasProps> = (props) => {\n  return (\n    <ReactFlowProvider>\n      <GraphCanvasInner {...props} />\n    </ReactFlowProvider>\n  );\n};\n\nexport default GraphCanvas;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}